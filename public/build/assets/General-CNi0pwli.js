import{f as h,g as n,c as x,a as y,u as S,h as M,w as E,i as V,e as v,b as t,o as u,j as C,d as i,k as o,l as d,q as p,F as T,m as U}from"./app-DlV9HYEa.js";import{_ as B}from"./DashboardLayout-BMG-KyuB.js";import{_ as N}from"./Toast-D1CVE4n_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},F={class:"grid gap-4 md:grid-cols-2"},O={class:"rounded-lg border border-amber-200 bg-amber-50 p-6 shadow-sm"},q={class:"flex items-start gap-4"},G={class:"inline-flex items-center cursor-pointer"},$={class:"relative"},z={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},D={class:"grid gap-4 md:grid-cols-2"},A={class:"md:col-span-2"},H={class:"md:col-span-2"},I={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},K={class:"space-y-3"},P={class:"flex items-center gap-3 cursor-pointer"},R={class:"flex items-center gap-3 cursor-pointer"},W={class:"flex justify-end"},J=["disabled"],L={key:0,class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ee={__name:"General",props:{settings:{type:Object,required:!0}},setup(w){const _=w,{settings:l}=h(_),s=n({site_name:l.value.site_name||"Emas | Electronic Marking System",maintenance_mode:!!l.value.maintenance_mode,meta_title:l.value.meta_title||"",meta_description:l.value.meta_description||"",meta_keywords:l.value.meta_keywords||"",notify_email_enabled:l.value.notify_email_enabled??!0,notify_inapp_enabled:l.value.notify_inapp_enabled??!0}),r=n(!1),c=n(""),b=n("success"),m=n(!1),g=(f,e="success")=>{c.value=f,b.value=e,m.value=!0},k=()=>{r.value=!0,U.patch(route("admin.settings.general.update"),s.value,{preserveScroll:!0,onSuccess:()=>{g("Settings updated successfully.","success")},onError:()=>{g("Failed to update settings. Please check the inputs.","error")},onFinish:()=>{r.value=!1}})};return(f,e)=>(u(),x(T,null,[y(S(M),{title:"General Settings"}),y(B,null,{default:E(()=>[m.value?(u(),V(N,{key:0,message:c.value,type:b.value,duration:4e3,onClose:e[0]||(e[0]=a=>m.value=!1)},null,8,["message","type"])):v("",!0),e[25]||(e[25]=t("div",{class:"mb-8 flex items-center justify-between"},[t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"General Settings"),t("p",{class:"text-gray-600 mt-2 text-sm"},"Configure global site options, maintenance mode, SEO and notifications.")])],-1)),t("form",{onSubmit:C(k,["prevent"]),class:"space-y-6"},[t("section",j,[e[10]||(e[10]=t("h2",{class:"text-base font-semibold text-gray-900 mb-4 flex items-center gap-2"},[t("span",{class:"material-icons text-emerald-500 text-base"},"settings"),i(" Site Information ")],-1)),t("div",F,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Site Name",-1)),o(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.site_name=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"e.g., Emas | Electronic Marking System",required:""},null,512),[[d,s.value.site_name]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Meta Title (SEO)",-1)),o(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.meta_title=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"e.g., Best School Exam Management System"},null,512),[[d,s.value.meta_title]])])])]),t("section",O,[e[15]||(e[15]=t("h2",{class:"text-base font-semibold text-gray-900 mb-4 flex items-center gap-2"},[t("span",{class:"material-icons text-amber-500 text-base"},"build"),i(" Maintenance Mode ")],-1)),t("div",q,[t("label",G,[t("span",$,[o(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.maintenance_mode=a),type:"checkbox",class:"sr-only peer"},null,512),[[p,s.value.maintenance_mode]]),e[11]||(e[11]=t("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-amber-500 transition-colors"},null,-1)),e[12]||(e[12]=t("div",{class:"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow transform peer-checked:translate-x-5 transition-transform"},null,-1))]),e[13]||(e[13]=t("span",{class:"ml-3 text-sm font-medium text-gray-900"},"Enable maintenance mode",-1))]),e[14]||(e[14]=t("p",{class:"text-xs text-gray-600 max-w-md"}," When enabled, normal users will see a maintenance page. Admins will still be able to access the system. ",-1))])]),t("section",z,[e[19]||(e[19]=t("h2",{class:"text-base font-semibold text-gray-900 mb-4 flex items-center gap-2"},[t("span",{class:"material-icons text-blue-500 text-base"},"search"),i(" SEO Settings ")],-1)),t("div",D,[t("div",A,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Meta Description",-1)),o(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=a=>s.value.meta_description=a),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",rows:"3",placeholder:"Short description for search engines..."},null,512),[[d,s.value.meta_description]])]),t("div",H,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Meta Keywords",-1)),o(t("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>s.value.meta_keywords=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus-border-transparent",placeholder:"e.g., exams, schools, results, Tanzania"},null,512),[[d,s.value.meta_keywords]]),e[18]||(e[18]=t("p",{class:"mt-1 text-xs text-gray-500"},"Comma-separated keywords (optional).",-1))])])]),t("section",I,[e[22]||(e[22]=t("h2",{class:"text-base font-semibold text-gray-900 mb-4 flex items-center gap-2"},[t("span",{class:"material-icons text-purple-500 text-base"},"notifications"),i(" Notifications ")],-1)),t("div",K,[t("label",P,[o(t("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>s.value.notify_email_enabled=a),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,512),[[p,s.value.notify_email_enabled]]),e[20]||(e[20]=t("span",{class:"text-sm text-gray-800"},"Enable email notifications (system alerts, important updates)",-1))]),t("label",R,[o(t("input",{"onUpdate:modelValue":e[7]||(e[7]=a=>s.value.notify_inapp_enabled=a),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,512),[[p,s.value.notify_inapp_enabled]]),e[21]||(e[21]=t("span",{class:"text-sm text-gray-800"},"Enable in-app notifications (bell icon in header)",-1))])])]),t("div",W,[t("button",{type:"submit",disabled:r.value,class:"inline-flex items-center gap-2 px-5 py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-medium rounded-lg shadow-sm transition-colors disabled:opacity-60 disabled:cursor-not-allowed"},[r.value?(u(),x("svg",L,[...e[23]||(e[23]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)])])):v("",!0),e[24]||(e[24]=t("span",null,"Save Settings",-1))],8,J)])],32)]),_:1})],64))}};export{ee as default};
