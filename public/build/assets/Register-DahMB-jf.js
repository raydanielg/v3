import{n as _,r as y,q as k,e as m,w as u,a as l,f as c,b as a,u as o,h as x,o as t,j as V,k as h,v as C,c as M,g as S,d as p,s as $}from"./app-D6fCMOw5.js";import{_ as q}from"./AuthLayout-CU2e7IC3.js";import{_ as B}from"./Toast-DcHMc7tc.js";import{_ as n,a as f,b as i}from"./TextInput-ZZQLAo3J.js";const F={class:"grid gap-4 sm:grid-cols-2"},U={class:"sm:col-span-2"},j={class:"sm:col-span-2"},z={class:"pt-2 space-y-4"},E=["disabled"],N={key:0,class:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},T={class:"text-center text-xs text-body"},H={__name:"Register",setup(A){const e=_({name:"",email:"",password:"",password_confirmation:"",role:"admin"}),w=y(""),g=y("info"),d=y(!1),b=()=>{e.post(route("register"),{onFinish:()=>{Object.keys(e.errors).length>0?(w.value="Failed to create account. Please check your information.",g.value="error",d.value=!0):e.reset("password","password_confirmation")}})};return k(()=>e.errors,v=>{Object.keys(v).length>0&&(w.value="Failed to create account. Please check your information.",g.value="error",d.value=!0)},{deep:!0}),(v,s)=>(t(),m(q,null,{title:u(()=>[...s[6]||(s[6]=[p(" Create your account ",-1)])]),subtitle:u(()=>[...s[7]||(s[7]=[p(" Join Emas | Electronic marking system and get started in a few steps. ",-1)])]),default:u(()=>[l(o(x),{title:"Register"}),d.value?(t(),m(B,{key:0,message:w.value,type:g.value,onClose:s[0]||(s[0]=r=>d.value=!1)},null,8,["message","type"])):c("",!0),a("form",{onSubmit:V(b,["prevent"]),class:"space-y-4"},[a("div",F,[a("div",U,[l(n,{for:"name",value:"Full name"}),l(f,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(e).name,"onUpdate:modelValue":s[1]||(s[1]=r=>o(e).name=r),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),l(i,{class:"mt-2",message:o(e).errors.name},null,8,["message"])]),a("div",j,[l(n,{for:"email",value:"Email"}),l(f,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:o(e).email,"onUpdate:modelValue":s[2]||(s[2]=r=>o(e).email=r),required:"",autocomplete:"username"},null,8,["modelValue"]),l(i,{class:"mt-2",message:o(e).errors.email},null,8,["message"])]),a("div",null,[l(n,{for:"password",value:"Password"}),l(f,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:o(e).password,"onUpdate:modelValue":s[3]||(s[3]=r=>o(e).password=r),required:"",autocomplete:"new-password"},null,8,["modelValue"]),l(i,{class:"mt-2",message:o(e).errors.password},null,8,["message"])]),a("div",null,[l(n,{for:"password_confirmation",value:"Confirm password"}),l(f,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:o(e).password_confirmation,"onUpdate:modelValue":s[4]||(s[4]=r=>o(e).password_confirmation=r),required:"",autocomplete:"new-password"},null,8,["modelValue"]),o(e).errors.password_confirmation?(t(),m(i,{key:0,class:"mt-2",message:o(e).errors.password_confirmation},null,8,["message"])):c("",!0)])]),a("div",null,[l(n,{for:"role",value:"Role"}),h(a("select",{id:"role","onUpdate:modelValue":s[5]||(s[5]=r=>o(e).role=r),class:"mt-1 block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 transition-all"},[...s[8]||(s[8]=[a("option",{value:"admin"},"Admin",-1),a("option",{value:"teacher"},"Mwalimu (Teacher)",-1),a("option",{value:"school_manager"},"Mkuu wa Shule (School Manager)",-1),a("option",{value:"district_manager"},"Msimamizi wa Kiti (District Manager)",-1),a("option",{value:"student"},"Mwanafunzi (Student)",-1)])],512),[[C,o(e).role]]),o(e).errors.role?(t(),m(i,{key:0,class:"mt-2",message:o(e).errors.role},null,8,["message"])):c("",!0)]),a("div",z,[a("button",{type:"submit",disabled:o(e).processing,class:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white font-medium py-2.5 px-4 rounded-base shadow-md hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-emerald-300 transition-all disabled:opacity-60 disabled:cursor-not-allowed"},[o(e).processing?(t(),M("svg",N,[...s[9]||(s[9]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):c("",!0),a("span",null,S(o(e).processing?"Creating account...":"Create account"),1)],8,E),a("p",T,[s[11]||(s[11]=p(" Already registered? ",-1)),l(o($),{href:v.route("login"),class:"font-semibold text-emerald-600 hover:text-emerald-700 hover:underline transition-colors"},{default:u(()=>[...s[10]||(s[10]=[p(" Sign in ",-1)])]),_:1},8,["href"])])])],32)]),_:1}))}};export{H as default};
